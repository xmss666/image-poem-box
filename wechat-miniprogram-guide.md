# æ„è±¡Â·è¯—åŒ£ - å¾®ä¿¡å°ç¨‹åºè½¬æ¢æŒ‡å—

## ğŸ¯ è½¬æ¢æ¦‚è§ˆ

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•å°† "æ„è±¡Â·è¯—åŒ£" Web åº”ç”¨è½¬æ¢ä¸ºå¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬ï¼Œç¡®ä¿åŠŸèƒ½å®Œæ•´æ€§å’Œç”¨æˆ·ä½“éªŒä¸€è‡´æ€§ã€‚

## ğŸ“± å°ç¨‹åºç‰¹è‰²

### åŸç”Ÿä½“éªŒä¼˜åŠ¿
- **å¾®ä¿¡ç”Ÿæ€é›†æˆ**ï¼šæ”¯æŒå¾®ä¿¡ç™»å½•ã€åˆ†äº«ã€æ”¯ä»˜ç­‰åŠŸèƒ½
- **è½»é‡å¿«é€Ÿ**ï¼šæ— éœ€ä¸‹è½½å®‰è£…ï¼Œå³ç”¨å³èµ°
- **ç¦»çº¿èƒ½åŠ›**ï¼šæ”¯æŒæœ¬åœ°æ•°æ®å­˜å‚¨å’Œç¼“å­˜
- **æ¨é€é€šçŸ¥**ï¼šæ”¯æŒæœåŠ¡é€šçŸ¥å’Œæ¨¡æ¿æ¶ˆæ¯

### åŠŸèƒ½é€‚é…
- **æ ¸å¿ƒåŠŸèƒ½ä¿ç•™**ï¼šæ„è±¡é€‰æ‹©ã€è¯—æ„ç”Ÿæˆã€é…å›¾å¯¼å‡º
- **äº¤äº’ä¼˜åŒ–**ï¼šé’ˆå¯¹ç§»åŠ¨ç«¯ä¼˜åŒ–çš„è§¦æ§ä½“éªŒ
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå°ç¨‹åºåŸç”Ÿæ€§èƒ½ä¼˜åŠ¿

## ğŸ—ï¸ é¡¹ç›®ç»“æ„è½¬æ¢

### åŸå§‹ Web ç»“æ„
```
Webé¡¹ç›®/
â”œâ”€â”€ index.html
â”œâ”€â”€ styles.css
â”œâ”€â”€ script.js
â””â”€â”€ README.md
```

### å°ç¨‹åºç»“æ„
```
å°ç¨‹åºé¡¹ç›®/
â”œâ”€â”€ app.js                 # å°ç¨‹åºå…¥å£æ–‡ä»¶
â”œâ”€â”€ app.json              # å°ç¨‹åºå…¨å±€é…ç½®
â”œâ”€â”€ app.wxss              # å°ç¨‹åºå…¨å±€æ ·å¼
â”œâ”€â”€ sitemap.json          # å°ç¨‹åºæœç´¢é…ç½®
â”œâ”€â”€ pages/                # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/           # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ index.json
â”‚   â”‚   â”œâ”€â”€ index.wxml
â”‚   â”‚   â””â”€â”€ index.wxss
â”‚   â”œâ”€â”€ poem/            # è¯—æ„å±•ç¤ºé¡µ
â”‚   â”‚   â”œâ”€â”€ poem.js
â”‚   â”‚   â”œâ”€â”€ poem.json
â”‚   â”‚   â”œâ”€â”€ poem.wxml
â”‚   â”‚   â””â”€â”€ poem.wxss
â”‚   â””â”€â”€ result/          # ç»“æœå±•ç¤ºé¡µ
â”‚       â”œâ”€â”€ result.js
â”‚       â”œâ”€â”€ result.json
â”‚       â”œâ”€â”€ result.wxml
â”‚       â””â”€â”€ result.wxss
â”œâ”€â”€ components/           # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”œâ”€â”€ image-card/      # æ„è±¡å¡ç‰‡ç»„ä»¶
â”‚   â””â”€â”€ poem-card/       # è¯—æ„å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ util.js
â”‚   â””â”€â”€ api.js
â”œâ”€â”€ images/              # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ icons/           # å›¾æ ‡
â”‚   â””â”€â”€ backgrounds/     # èƒŒæ™¯å›¾ç‰‡
â””â”€â”€ cloud/               # äº‘å‡½æ•°ç›®å½•
    â”œâ”€â”€ generatePoem/    # ç”Ÿæˆè¯—æ„äº‘å‡½æ•°
    â””â”€â”€ generateImage/   # ç”Ÿæˆå›¾ç‰‡äº‘å‡½æ•°
```

## ğŸ”„ æŠ€æœ¯è½¬æ¢è¦ç‚¹

### 1. HTML â†’ WXML è½¬æ¢

#### æ ‡ç­¾æ˜ å°„
```html
<!-- HTML -->
<div class="container">
  <button class="image-btn">æ˜æœˆ</button>
</div>

<!-- WXML -->
<view class="container">
  <button class="image-btn">æ˜æœˆ</button>
</view>
```

#### æ•°æ®ç»‘å®š
```html
<!-- HTML + JavaScript -->
<div id="poemText"></div>
<script>
document.getElementById('poemText').textContent = generatedPoem;
</script>

<!-- WXML -->
<view>{{poemText}}</view>

<!-- JS -->
Page({
  data: {
    poemText: ''
  },
  setPoem: function(poem) {
    this.setData({ poemText: poem });
  }
})
```

### 2. CSS â†’ WXSS è½¬æ¢

#### æ ·å¼å•ä½
```css
/* CSS */
.image-btn {
  width: 60px;
  height: 60px;
}

/* WXSS */
.image-btn {
  width: 60rpx;
  height: 60rpx;
}
```

#### å¸ƒå±€é€‚é…
```css
<!-- CSS Grid -->
.images-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

<!-- WXSS Flexbox -->
.images-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.image-item {
  width: calc(25% - 8px);
  margin-bottom: 10px;
}
```

### 3. JavaScript â†’ å°ç¨‹åºé€»è¾‘

#### äº‹ä»¶å¤„ç†
```javascript
// Web JavaScript
document.getElementById('generateBtn').addEventListener('click', generatePoem);

// å°ç¨‹åº JavaScript
Page({
  generatePoem: function() {
    // ç”Ÿæˆè¯—æ„é€»è¾‘
  }
})

<!-- WXML -->
<button bindtap="generatePoem">ç”Ÿæˆæ„å¢ƒ</button>
```

#### æ•°æ®å­˜å‚¨
```javascript
// Web localStorage
localStorage.setItem('selectedImages', JSON.stringify(images));
const images = JSON.parse(localStorage.getItem('selectedImages'));

// å°ç¨‹åºå­˜å‚¨
wx.setStorageSync('selectedImages', images);
const images = wx.getStorageSync('selectedImages');
```

## â˜ï¸ äº‘å‡½æ•°å¼€å‘

### 1. æ–‡æœ¬ç”Ÿæˆäº‘å‡½æ•°

```javascript
// cloud/generatePoem/index.js
const cloud = require('wx-server-sdk')
cloud.init({ env: cloud.DYNAMIC_CURRENT_ENV })

exports.main = async (event, context) => {
  const { images } = event
  
  try {
    // è°ƒç”¨æ™ºè°±AI API
    const result = await generatePoemWithAI(images)
    return {
      success: true,
      data: result
    }
  } catch (error) {
    return {
      success: false,
      error: error.message
    }
  }
}
```

### 2. å›¾ç‰‡ç”Ÿæˆäº‘å‡½æ•°

```javascript
// cloud/generateImage/index.js
const cloud = require('wx-server-sdk')
cloud.init({ env: cloud.DYNAMIC_CURRENT_ENV })

exports.main = async (event, context) => {
  const { poem, images } = event
  
  try {
    // è°ƒç”¨å›¾åƒç”ŸæˆAPI
    const imageUrl = await generateImageWithAI(poem, images)
    return {
      success: true,
      imageUrl: imageUrl
    }
  } catch (error) {
    return {
      success: false,
      error: error.message
    }
  }
}
```

## ğŸ“± é¡µé¢å¼€å‘

### 1. é¦–é¡µ (index)

#### WXML ç»“æ„
```xml
<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <text class="title">æ„è±¡Â·è¯—åŒ£</text>
    <text class="subtitle">ä»å”è¯—å®‹è¯ä¸­æ‹¾å–æ„è±¡ï¼Œç”Ÿæˆè¯—æ„</text>
  </view>
  
  <!-- ç±»åˆ«å¯¼èˆª -->
  <scroll-view class="category-nav" scroll-x>
    <view wx:for="{{categories}}" wx:key="id" 
          class="category-tab {{currentCategory === item.id ? 'active' : ''}}"
          bindtap="switchCategory" data-category="{{item.id}}">
      {{item.name}}
    </view>
  </scroll-view>
  
  <!-- æ„è±¡å±•ç¤º -->
  <view class="images-section">
    <view class="images-grid">
      <view wx:for="{{currentImages}}" wx:key="index"
            class="image-btn {{selectedImages.includes(item) ? 'selected' : ''}}"
            bindtap="toggleImage" data-image="{{item}}">
        <text class="image-icon">{{imageIcons[item]}}</text>
        <text class="image-text">{{item}}</text>
      </view>
    </view>
  </view>
  
  <!-- åˆ›ä½œåŒº -->
  <view class="creation-section">
    <view class="creation-area">
      <block wx:if="{{selectedImages.length > 0}}">
        <view wx:for="{{selectedImages}}" wx:key="index" class="selected-image">
          <text>{{item}}</text>
          <text class="remove" bindtap="removeImage" data-index="{{index}}">Ã—</text>
        </view>
      </block>
      <view wx:else class="creation-placeholder">è¯·é€‰æ‹©2-7ä¸ªæ„è±¡</view>
    </view>
    
    <button class="generate-btn" 
            disabled="{{selectedImages.length < 2}}"
            loading="{{generating}}"
            bindtap="generatePoem">
      ç”Ÿæˆæ„å¢ƒ
    </button>
  </view>
</view>
```

### 2. è¯—æ„å±•ç¤ºé¡µ (poem)

```xml
<view class="poem-container">
  <view class="poem-content">
    <text class="poem-text">{{poemText}}</text>
    <view class="poem-quote">
      <text>{{quote.text}}</text>
      <text class="author">â€”â€” {{quote.author}}</text>
    </view>
  </view>
  
  <button class="generate-image-btn" bindtap="generateImage">ç”Ÿæˆé…å›¾</button>
  <button class="share-btn" open-type="share">åˆ†äº«è¯—æ„</button>
</view>
```

## ğŸ”§ é…ç½®è¯´æ˜

### 1. app.json é…ç½®

```json
{
  "pages": [
    "pages/index/index",
    "pages/poem/poem",
    "pages/result/result"
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#5a3921",
    "navigationBarTitleText": "æ„è±¡Â·è¯—åŒ£",
    "navigationBarTextStyle": "white",
    "backgroundColor": "#f9f4e6"
  },
  "tabBar": {
    "color": "#5a3921",
    "selectedColor": "#b8860b",
    "backgroundColor": "#f9f4e6",
    "list": [
      {
        "pagePath": "pages/index/index",
        "text": "åˆ›ä½œ",
        "iconPath": "images/tab-create.png",
        "selectedIconPath": "images/tab-create-active.png"
      },
      {
        "pagePath": "pages/poem/poem",
        "text": "ä½œå“",
        "iconPath": "images/tab-poem.png",
        "selectedIconPath": "images/tab-poem-active.png"
      }
    ]
  },
  "style": "v2",
  "sitemapLocation": "sitemap.json",
  "useExtendedLib": {
    "weui": true
  }
}
```

### 2. äº‘å‡½æ•°é…ç½®

```json
{
  "permissions": {
    "openapi": [
      "wx.cloud"
    ]
  }
}
```

## ğŸš€ å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·
# åˆ›å»ºå°ç¨‹åºé¡¹ç›®
# é…ç½®äº‘å¼€å‘ç¯å¢ƒ
```

### 2. é¡¹ç›®åˆå§‹åŒ–

```bash
# åˆ›å»ºé¡¹ç›®ç»“æ„
mkdir -p pages/index pages/poem pages/result components utils cloud

# åˆå§‹åŒ–äº‘å¼€å‘
wx.cloud.init({
  env: 'your-env-id'
})
```

### 3. åŠŸèƒ½å¼€å‘é¡ºåº

1. **åŸºç¡€æ¡†æ¶æ­å»º**
   - é…ç½® app.json
   - åˆ›å»ºé¡µé¢ç»“æ„
   - è®¾ç½®å…¨å±€æ ·å¼

2. **é¦–é¡µåŠŸèƒ½å¼€å‘**
   - æ„è±¡é€‰æ‹©é€»è¾‘
   - ç±»åˆ«åˆ‡æ¢åŠŸèƒ½
   - åˆ›ä½œåŒºäº¤äº’

3. **äº‘å‡½æ•°å¼€å‘**
   - æ–‡æœ¬ç”Ÿæˆäº‘å‡½æ•°
   - å›¾ç‰‡ç”Ÿæˆäº‘å‡½æ•°
   - é”™è¯¯å¤„ç†æœºåˆ¶

4. **ç»“æœé¡µé¢å¼€å‘**
   - è¯—æ„å±•ç¤º
   - å›¾ç‰‡ç”Ÿæˆ
   - åˆ†äº«åŠŸèƒ½

5. **ä¼˜åŒ–å’Œæµ‹è¯•**
   - æ€§èƒ½ä¼˜åŒ–
   - å…¼å®¹æ€§æµ‹è¯•
   - ç”¨æˆ·ä½“éªŒä¼˜åŒ–

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–
- ä½¿ç”¨å°ç¨‹åºå†…ç½®å›¾ç‰‡ç»„ä»¶
- å®ç°æ‡’åŠ è½½
- å‹ç¼©å›¾ç‰‡èµ„æº

### 2. æ•°æ®ä¼˜åŒ–
- ä½¿ç”¨ setData ä¼˜åŒ–
- é¿å…é¢‘ç¹çš„æ•°æ®æ›´æ–°
- åˆç†ä½¿ç”¨æœ¬åœ°å­˜å‚¨

### 3. ç½‘ç»œä¼˜åŒ–
- ä½¿ç”¨äº‘å‡½æ•°å‡å°‘å®¢æˆ·ç«¯è´Ÿæ‹…
- å®ç°è¯·æ±‚ç¼“å­˜
- é”™è¯¯é‡è¯•æœºåˆ¶

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. API å®‰å…¨
- ä½¿ç”¨äº‘å‡½æ•°å°è£…æ•æ„Ÿ API
- å®ç°è¯·æ±‚é¢‘ç‡é™åˆ¶
- æ•°æ®éªŒè¯å’Œè¿‡æ»¤

### 2. ç”¨æˆ·æ•°æ®å®‰å…¨
- ä½¿ç”¨å¾®ä¿¡æˆæƒæœºåˆ¶
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- éµå¾ªéšç§æ”¿ç­–è¦æ±‚

## ğŸ“ˆ å‘å¸ƒæµç¨‹

### 1. å¼€å‘æµ‹è¯•
- åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•
- å…¼å®¹æ€§æµ‹è¯•
- æ€§èƒ½æµ‹è¯•

### 2. æäº¤å®¡æ ¸
- å‡†å¤‡å®¡æ ¸ææ–™
- æäº¤å°ç¨‹åºå®¡æ ¸
- å¤„ç†å®¡æ ¸åé¦ˆ

### 3. å‘å¸ƒä¸Šçº¿
- é…ç½®å‘å¸ƒç‰ˆæœ¬
- ç›‘æ§çº¿ä¸Šè¡¨ç°
- æ”¶é›†ç”¨æˆ·åé¦ˆ

## ğŸ¯ è½¬æ¢ä¼˜åŠ¿

### ç”¨æˆ·ä½“éªŒæå‡
- **åŠ è½½æ›´å¿«**ï¼šå°ç¨‹åºåŸç”Ÿæ€§èƒ½
- **äº¤äº’æ›´é¡º**ï¼šé’ˆå¯¹ç§»åŠ¨ç«¯ä¼˜åŒ–
- **ä½¿ç”¨æ›´ä¾¿**ï¼šå¾®ä¿¡å†…ç›´æ¥ä½¿ç”¨

### åŠŸèƒ½æ‰©å±•å¯èƒ½
- **ç¤¾äº¤åˆ†äº«**ï¼šå¾®ä¿¡å¥½å‹å’Œæœ‹å‹åœˆåˆ†äº«
- **ç”¨æˆ·ä½“ç³»**ï¼šå¾®ä¿¡ç™»å½•å’Œç”¨æˆ·æ•°æ®
- **æ”¯ä»˜åŠŸèƒ½**ï¼šæ”¯æŒä»˜è´¹é«˜çº§åŠŸèƒ½

### è¿è¥ä¼˜åŠ¿
- **æ¨å¹¿å®¹æ˜“**ï¼šå¾®ä¿¡ç”Ÿæ€å†…ä¼ æ’­
- **ç”¨æˆ·ç²˜æ€§**ï¼šå¾®ä¿¡ä½¿ç”¨ä¹ æƒ¯
- **æ•°æ®åˆ†æ**ï¼šå¾®ä¿¡æ•°æ®ç»Ÿè®¡

## ğŸ“ æ³¨æ„äº‹é¡¹

### æŠ€æœ¯é™åˆ¶
- å°ç¨‹åºæœ‰åŒ…å¤§å°é™åˆ¶ï¼ˆ2MBï¼‰
- éƒ¨åˆ† Web API ä¸å¯ç”¨
- éœ€è¦é€‚é…å¾®ä¿¡ API

### åˆè§„è¦æ±‚
- éµå¾ªå¾®ä¿¡å°ç¨‹åºè§„èŒƒ
- å†…å®¹å®¡æ ¸è¦æ±‚
- ç”¨æˆ·éšç§ä¿æŠ¤

### ç»´æŠ¤æˆæœ¬
- éœ€è¦ç»´æŠ¤ä¸¤å¥—ä»£ç 
- ç‰ˆæœ¬åŒæ­¥ç®¡ç†
- æµ‹è¯•å·¥ä½œé‡å¢åŠ 

## ğŸ”— ç›¸å…³èµ„æº

- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/)
- [äº‘å¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)
- [è®¾è®¡è§„èŒƒ](https://developers.weixin.qq.com/miniprogram/design/)

## ğŸ’¡ åç»­è§„åˆ’

### çŸ­æœŸç›®æ ‡
- å®ŒæˆåŸºç¡€åŠŸèƒ½è½¬æ¢
- å®ç°äº‘å‡½æ•°é›†æˆ
- é€šè¿‡å¾®ä¿¡å®¡æ ¸

### é•¿æœŸè§„åˆ’
- æ·»åŠ ç¤¾äº¤åŠŸèƒ½
- å®ç°ç”¨æˆ·ä½“ç³»
- æ‰©å±•é«˜çº§åŠŸèƒ½

---

**è½¬æ¢å®Œæˆæ—¶é—´é¢„ä¼°**ï¼š2-3å‘¨å¼€å‘æ—¶é—´

**å»ºè®®å›¢é˜Ÿé…ç½®**ï¼š1åå‰ç«¯ + 1ååç«¯ï¼ˆäº‘å‡½æ•°ï¼‰

**æŠ€æœ¯éš¾åº¦**ï¼šä¸­ç­‰ï¼ˆéœ€è¦æœ‰å¾®ä¿¡å°ç¨‹åºå¼€å‘ç»éªŒï¼‰